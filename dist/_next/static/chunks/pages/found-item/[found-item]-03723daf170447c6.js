(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[419],{3397:(e,t,s)=>{"use strict";s.d(t,{p:()=>r});var n=s(7876);s(4232);var a=s(8928);function r(e){let{className:t,type:s,...r}=e;return(0,n.jsx)("input",{type:s,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}},4859:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var n=s(7876),a=s(4232),r=s(9099),i=s(9650),l=s(9081),o=s(6591),d=s(2774),c=s(8445),u=s(9983),m=s(7514),f=s(3397),p=s(5627),x=s(8069);let g=e=>{let{open:t,onOpenChange:s,onSubmit:r,isSubmitting:i,error:l,success:d}=e,[c,g]=(0,a.useState)(""),[h,j]=(0,a.useState)("");return(0,a.useEffect)(()=>{t&&(g(""),j(""))},[t]),(0,a.useEffect)(()=>{},[d,i]),(0,n.jsx)(m.lG,{open:t,onOpenChange:e=>{i||s(e)},children:(0,n.jsx)(m.Cf,{className:"sm:max-w-lg backdrop-blur-3xl bg-white/30 dark:bg-black/30",children:(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i||r({ownerEmail:c,ownerDescription:h})},children:[(0,n.jsxs)(m.c7,{children:[(0,n.jsx)(m.L3,{children:"Claim This Item"}),(0,n.jsx)(m.rr,{children:"If this is your item, please provide your contact information and a description to help verify your ownership. We'll send this information to the finder."})]}),d&&!i&&(0,n.jsxs)(o.Fc,{variant:"success",className:"my-4 bg-green-100 border-green-400 text-green-700",children:[(0,n.jsx)(o.XL,{children:"Claim Sent!"}),(0,n.jsx)(o.TN,{children:"Your claim has been submitted. The finder will be notified."})]}),l&&!d&&(0,n.jsxs)(o.Fc,{variant:"destructive",className:"my-4",children:[(0,n.jsx)(o.XL,{children:"Submission Error"}),(0,n.jsx)(o.TN,{children:l})]}),(0,n.jsxs)("fieldset",{disabled:d||i,className:"grid gap-4 py-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(p.J,{htmlFor:"ownerEmail",children:"Your Email *"}),(0,n.jsx)(f.p,{id:"ownerEmail",type:"email",value:c,onChange:e=>g(e.target.value),placeholder:"your.email@example.com",required:!0,disabled:i||d})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(p.J,{htmlFor:"ownerDescription",children:"Proof of Ownership *"}),(0,n.jsx)(x.T,{id:"ownerDescription",value:h,onChange:e=>j(e.target.value),placeholder:"Please describe the item in detail, including any unique marks or characteristics that only the owner would know.",required:!0,rows:4,disabled:i||d})]})]}),(0,n.jsxs)(m.Es,{className:"gap-2 sm:gap-0",children:[d?(0,n.jsx)(u.$,{variant:"secondary",type:"button",onClick:()=>s(!1),children:"Close"}):(0,n.jsx)(u.$,{variant:"secondary",type:"button",onClick:()=>s(!1),disabled:i,children:"Cancel"}),!d&&(0,n.jsx)(u.$,{type:"submit",disabled:i||!c||!h,children:i?"Sending...":"Send Claim"})]})]})})})},h=()=>{let e=(0,r.useRouter)(),{"found-item":t}=e.query,[s,m]=(0,a.useState)(null),[f,p]=(0,a.useState)(!0),[x,h]=(0,a.useState)(null),[j,b]=(0,a.useState)(!1),[v,y]=(0,a.useState)(!1),[w,N]=(0,a.useState)(null),[C,D]=(0,a.useState)(!1);(0,a.useEffect)(()=>{e.isReady&&t?(p(!0),h(null),N(null),D(!1),(0,i.nV)(t).then(m).catch(e=>{console.error("Error fetching found item:",e),e.response&&404===e.response.status?h("Item not found."):h(e.message||"Failed to load item details."),m(null)}).finally(()=>p(!1))):!t&&e.isReady&&(h("Item ID is missing."),p(!1))},[e.isReady,t]);let E=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})}catch(t){return e}},_=async e=>{let{ownerEmail:s,ownerDescription:n}=e;y(!0),N(null),D(!1);try{await (0,i.g8)(t,{ownerEmail:s,ownerDescription:n}),D(!0),setTimeout(()=>{b(!1),setTimeout(()=>D(!1),500)},2e3)}catch(e){console.error("Claim submission error:",e),N(e.message||"Failed to submit claim. Please try again.")}finally{y(!1)}};return f?(0,n.jsx)("div",{className:"container mx-auto p-4 max-w-2xl",children:(0,n.jsxs)(l.Zp,{children:[(0,n.jsxs)(l.aR,{children:[(0,n.jsx)(d.E,{className:"h-6 w-3/4"}),(0,n.jsx)(d.E,{className:"h-4 w-1/2 mt-1"})]}),(0,n.jsxs)(l.Wu,{className:"space-y-4",children:[(0,n.jsx)(d.E,{className:"h-64 w-full rounded-lg"})," ",(0,n.jsx)(d.E,{className:"h-4 w-full"}),(0,n.jsx)(d.E,{className:"h-4 w-full"})]})]})}):x?(0,n.jsx)("div",{className:"container mx-auto p-4 max-w-2xl",children:(0,n.jsxs)(o.Fc,{variant:"destructive",className:"mt-4",children:[(0,n.jsx)(o.XL,{children:"Error"}),(0,n.jsx)(o.TN,{children:x})]})}):s||f||x?!s||f?null:(0,n.jsxs)("div",{className:"container mx-auto p-4 max-w-2xl",children:[(0,n.jsxs)(l.Zp,{children:[(0,n.jsxs)(l.aR,{children:[(0,n.jsx)(l.ZB,{children:"Found Item Details"}),(0,n.jsxs)(l.BT,{children:["Reported on: ",E(s.created_at)]})]}),(0,n.jsxs)(l.Wu,{className:"space-y-6",children:[s.image_filenames&&s.image_filenames.length>0&&(0,n.jsx)("div",{className:"w-full aspect-video relative",children:(0,n.jsxs)(c.FN,{className:"w-full",children:[(0,n.jsx)(c.Wk,{children:s.image_filenames.map((e,t)=>(0,n.jsx)(c.A7,{children:(0,n.jsx)("div",{className:"relative aspect-video",children:(0,n.jsx)("img",{src:"/images/".concat(e),alt:"Found item image ".concat(t+1),className:"absolute inset-0 w-full h-full object-contain bg-muted/30 rounded-lg",loading:"lazy"})})},t))}),s.image_filenames.length>1&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Q8,{className:"left-2"}),(0,n.jsx)(c.Oj,{className:"right-2"})]})]})}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"font-semibold text-sm",children:"Description:"}),(0,n.jsx)("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:s.description||"N/A"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"font-semibold text-sm",children:"Date Found:"}),(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:E(s.date_found)})]}),(s.city||s.state||s.country)&&(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"font-semibold text-sm",children:"Location Found:"}),(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:[s.city,s.state,s.country].filter(Boolean).join(", ")})]})]})]}),(0,n.jsx)(l.wL,{children:(0,n.jsx)(u.$,{onClick:()=>b(!0),variant:"outline",className:"w-full",children:"This is my item"})})]}),(0,n.jsx)(g,{open:j,onOpenChange:b,onSubmit:_,isSubmitting:v,error:w,success:C})]}):(0,n.jsx)("div",{className:"container mx-auto p-4 max-w-2xl",children:(0,n.jsxs)(o.Fc,{children:[(0,n.jsx)(o.XL,{children:"Item Not Found"}),(0,n.jsx)(o.TN,{children:"The item details could not be loaded, or the item does not exist."})]})})}},5627:(e,t,s)=>{"use strict";s.d(t,{J:()=>i});var n=s(7876);s(4232);var a=s(9773),r=s(8928);function i(e){let{className:t,...s}=e;return(0,n.jsx)(a.b,{"data-slot":"label",className:(0,r.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...s})}},6303:(e,t,s)=>{"use strict";s.d(t,{G$:()=>V,Hs:()=>y,UC:()=>es,VY:()=>ea,ZL:()=>ee,bL:()=>K,bm:()=>er,hE:()=>en,hJ:()=>et,l9:()=>Q});var n=s(4232),a=s(3716),r=s(714),i=s(1844),l=s(294),o=s(8162),d=s(3520),c=s(870),u=s(1893),m=s(6822),f=s(6326),p=s(2658),x=s(2634),g=s(4769),h=s(2987),j=s(7876),b="Dialog",[v,y]=(0,i.A)(b),[w,N]=v(b),C=e=>{let{__scopeDialog:t,children:s,open:a,defaultOpen:r,onOpenChange:i,modal:d=!0}=e,c=n.useRef(null),u=n.useRef(null),[m,f]=(0,o.i)({prop:a,defaultProp:r??!1,onChange:i,caller:b});return(0,j.jsx)(w,{scope:t,triggerRef:c,contentRef:u,contentId:(0,l.B)(),titleId:(0,l.B)(),descriptionId:(0,l.B)(),open:m,onOpenChange:f,onOpenToggle:n.useCallback(()=>f(e=>!e),[f]),modal:d,children:s})};C.displayName=b;var D="DialogTrigger",E=n.forwardRef((e,t)=>{let{__scopeDialog:s,...n}=e,i=N(D,s),l=(0,r.s)(t,i.triggerRef);return(0,j.jsx)(f.sG.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":X(i.open),...n,ref:l,onClick:(0,a.m)(e.onClick,i.onOpenToggle)})});E.displayName=D;var _="DialogPortal",[R,k]=v(_,{forceMount:void 0}),F=e=>{let{__scopeDialog:t,forceMount:s,children:a,container:r}=e,i=N(_,t);return(0,j.jsx)(R,{scope:t,forceMount:s,children:n.Children.map(a,e=>(0,j.jsx)(m.C,{present:s||i.open,children:(0,j.jsx)(u.Z,{asChild:!0,container:r,children:e})}))})};F.displayName=_;var I="DialogOverlay",O=n.forwardRef((e,t)=>{let s=k(I,e.__scopeDialog),{forceMount:n=s.forceMount,...a}=e,r=N(I,e.__scopeDialog);return r.modal?(0,j.jsx)(m.C,{present:n||r.open,children:(0,j.jsx)(S,{...a,ref:t})}):null});O.displayName=I;var T=(0,h.TL)("DialogOverlay.RemoveScroll"),S=n.forwardRef((e,t)=>{let{__scopeDialog:s,...n}=e,a=N(I,s);return(0,j.jsx)(x.A,{as:T,allowPinchZoom:!0,shards:[a.contentRef],children:(0,j.jsx)(f.sG.div,{"data-state":X(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),L="DialogContent",P=n.forwardRef((e,t)=>{let s=k(L,e.__scopeDialog),{forceMount:n=s.forceMount,...a}=e,r=N(L,e.__scopeDialog);return(0,j.jsx)(m.C,{present:n||r.open,children:r.modal?(0,j.jsx)(A,{...a,ref:t}):(0,j.jsx)($,{...a,ref:t})})});P.displayName=L;var A=n.forwardRef((e,t)=>{let s=N(L,e.__scopeDialog),i=n.useRef(null),l=(0,r.s)(t,s.contentRef,i);return n.useEffect(()=>{let e=i.current;if(e)return(0,g.Eq)(e)},[]),(0,j.jsx)(z,{...e,ref:l,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,a.m)(e.onCloseAutoFocus,e=>{e.preventDefault(),s.triggerRef.current?.focus()}),onPointerDownOutside:(0,a.m)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,s=0===t.button&&!0===t.ctrlKey;(2===t.button||s)&&e.preventDefault()}),onFocusOutside:(0,a.m)(e.onFocusOutside,e=>e.preventDefault())})}),$=n.forwardRef((e,t)=>{let s=N(L,e.__scopeDialog),a=n.useRef(!1),r=n.useRef(!1);return(0,j.jsx)(z,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(a.current||s.triggerRef.current?.focus(),t.preventDefault()),a.current=!1,r.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(a.current=!0,"pointerdown"===t.detail.originalEvent.type&&(r.current=!0));let n=t.target;s.triggerRef.current?.contains(n)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&r.current&&t.preventDefault()}})}),z=n.forwardRef((e,t)=>{let{__scopeDialog:s,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:l,...o}=e,u=N(L,s),m=n.useRef(null),f=(0,r.s)(t,m);return(0,p.Oh)(),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(c.n,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:i,onUnmountAutoFocus:l,children:(0,j.jsx)(d.qW,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":X(u.open),...o,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(U,{titleId:u.titleId}),(0,j.jsx)(H,{contentRef:m,descriptionId:u.descriptionId})]})]})}),G="DialogTitle",M=n.forwardRef((e,t)=>{let{__scopeDialog:s,...n}=e,a=N(G,s);return(0,j.jsx)(f.sG.h2,{id:a.titleId,...n,ref:t})});M.displayName=G;var q="DialogDescription",B=n.forwardRef((e,t)=>{let{__scopeDialog:s,...n}=e,a=N(q,s);return(0,j.jsx)(f.sG.p,{id:a.descriptionId,...n,ref:t})});B.displayName=q;var W="DialogClose",Z=n.forwardRef((e,t)=>{let{__scopeDialog:s,...n}=e,r=N(W,s);return(0,j.jsx)(f.sG.button,{type:"button",...n,ref:t,onClick:(0,a.m)(e.onClick,()=>r.onOpenChange(!1))})});function X(e){return e?"open":"closed"}Z.displayName=W;var J="DialogTitleWarning",[V,Y]=(0,i.q)(J,{contentName:L,titleName:G,docsSlug:"dialog"}),U=({titleId:e})=>{let t=Y(J),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return n.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},H=({contentRef:e,descriptionId:t})=>{let s=Y("DialogDescriptionWarning"),a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${s.contentName}}.`;return n.useEffect(()=>{let s=e.current?.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},K=C,Q=E,ee=F,et=O,es=P,en=M,ea=B,er=Z},7514:(e,t,s)=>{"use strict";s.d(t,{lG:()=>l,Cf:()=>u,rr:()=>x,Es:()=>f,c7:()=>m,L3:()=>p,zM:()=>o});var n=s(7876);s(4232);var a=s(6303);let r=(0,s(1713).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var i=s(8928);function l(e){let{...t}=e;return(0,n.jsx)(a.bL,{"data-slot":"dialog",...t})}function o(e){let{...t}=e;return(0,n.jsx)(a.l9,{"data-slot":"dialog-trigger",...t})}function d(e){let{...t}=e;return(0,n.jsx)(a.ZL,{"data-slot":"dialog-portal",...t})}function c(e){let{className:t,...s}=e;return(0,n.jsx)(a.hJ,{"data-slot":"dialog-overlay",className:(0,i.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...s})}function u(e){let{className:t,children:s,...l}=e;return(0,n.jsxs)(d,{"data-slot":"dialog-portal",children:[(0,n.jsx)(c,{}),(0,n.jsxs)(a.UC,{"data-slot":"dialog-content",className:(0,i.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...l,children:[s,(0,n.jsxs)(a.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,n.jsx)(r,{}),(0,n.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function m(e){let{className:t,...s}=e;return(0,n.jsx)("div",{"data-slot":"dialog-header",className:(0,i.cn)("flex flex-col gap-2 text-center sm:text-left",t),...s})}function f(e){let{className:t,...s}=e;return(0,n.jsx)("div",{"data-slot":"dialog-footer",className:(0,i.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...s})}function p(e){let{className:t,...s}=e;return(0,n.jsx)(a.hE,{"data-slot":"dialog-title",className:(0,i.cn)("text-lg leading-none font-semibold",t),...s})}function x(e){let{className:t,...s}=e;return(0,n.jsx)(a.VY,{"data-slot":"dialog-description",className:(0,i.cn)("text-muted-foreground text-sm",t),...s})}},8069:(e,t,s)=>{"use strict";s.d(t,{T:()=>r});var n=s(7876);s(4232);var a=s(8928);function r(e){let{className:t,...s}=e;return(0,n.jsx)("textarea",{"data-slot":"textarea",className:(0,a.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...s})}},8258:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/found-item/[found-item]",function(){return s(4859)}])},9773:(e,t,s)=>{"use strict";s.d(t,{b:()=>l});var n=s(4232),a=s(6326),r=s(7876),i=n.forwardRef((e,t)=>(0,r.jsx)(a.sG.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var l=i}},e=>{var t=t=>e(e.s=t);e.O(0,[619,883,636,593,792],()=>t(8258)),_N_E=e.O()}]);