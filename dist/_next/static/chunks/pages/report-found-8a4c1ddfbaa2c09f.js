(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[693],{2717:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var n=a(7876),s=a(4232),l=a(9099),i=a(9983),d=a(3397),r=a(8069),o=a(5627),c=a(7040),u=a(9650),m=a(9081);let h=()=>{(0,l.useRouter)();let[e,t]=(0,s.useState)(""),[a,h]=(0,s.useState)(null),[p,x]=(0,s.useState)(""),[g,f]=(0,s.useState)({country:"",state:"",city:""}),[j,y]=(0,s.useState)([]),[v,N]=(0,s.useState)(!1),[w,b]=(0,s.useState)(null),[S,_]=(0,s.useState)(""),F=async n=>{if(n.preventDefault(),N(!0),b(null),_(""),!a){b("Please select the date you found the item."),N(!1);return}let s=new FormData;s.append("description",e),s.append("date_found",a.toISOString()),p&&s.append("finder_contact",p),g.country&&s.append("country",g.country),g.state&&s.append("state",g.state),g.city&&s.append("city",g.city),j.forEach(e=>{s.append("images",e)});try{let e=await (0,u.Qj)(s);_("Found item report submitted successfully! Thank you. Item ID: ".concat(e.id)),t(""),x(""),h(null),f({country:"",state:"",city:""}),y([]);let a=document.getElementById("images");a&&(a.value=null)}catch(e){b(e.message||"Failed to submit report.")}finally{N(!1)}};return(0,n.jsx)("div",{className:"container mx-auto p-4 max-w-2xl",children:(0,n.jsxs)(m.Zp,{children:[(0,n.jsxs)(m.aR,{children:[(0,n.jsx)(m.ZB,{children:"Report an Item You Found"}),(0,n.jsx)(m.BT,{children:"Provide details about the item you found to help reunite it with its owner."})]}),(0,n.jsx)(m.Wu,{children:(0,n.jsxs)("form",{onSubmit:F,className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(o.J,{htmlFor:"description",children:"Item Description *"}),(0,n.jsx)(r.T,{id:"description",value:e,onChange:e=>t(e.target.value),placeholder:"Detailed description of the item you found...",required:!0,minLength:10,maxLength:1e3,className:"mt-1"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(o.J,{htmlFor:"dateFound",children:"Date Found *"}),(0,n.jsx)(d.p,{id:"dateFound",type:"date",onChange:e=>{try{let t=new Date(e.target.value);isNaN(t.getTime())?h(null):(h(t),b(null))}catch(e){h(null)}},required:!0,className:"mt-1"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(o.J,{htmlFor:"finderContact",children:"Your Contact Info (Optional)"}),(0,n.jsx)(d.p,{id:"finderContact",type:"text",value:p,onChange:e=>x(e.target.value),placeholder:"Email, phone, etc. (If you want the owner to contact you)",className:"mt-1"}),(0,n.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"If provided, this may be shown publicly or shared if a match is found."})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(o.J,{children:"Location Found (Optional but helpful)"}),(0,n.jsx)("div",{className:"mt-1 border p-3 rounded-md",children:(0,n.jsx)(c.A,{onLocationChange:f})})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)(o.J,{htmlFor:"images",children:["Images (Up to ",5,")"]}),(0,n.jsx)(d.p,{id:"images",type:"file",multiple:!0,accept:"image/jpeg, image/png, image/webp, image/gif",onChange:e=>{let t=Array.from(e.target.files);j.length+t.length>5?(b("Maximum ".concat(5," images allowed.")),e.target.value=null):(y(e=>[...e,...t]),b(null))},className:"mt-1"}),(0,n.jsxs)("div",{className:"mt-2 text-sm text-muted-foreground",children:[" Selected: ",j.length," "]}),j.length>0&&(0,n.jsx)("ul",{className:"mt-2 list-disc list-inside text-xs",children:j.map((e,t)=>(0,n.jsx)("li",{children:e.name},t))})]}),w&&(0,n.jsx)("p",{className:"text-red-500 text-sm",children:w}),S&&(0,n.jsx)("p",{className:"text-green-600 text-sm",children:S}),(0,n.jsx)(i.$,{type:"submit",disabled:v,className:"w-full",children:v?"Submitting...":"Submit Found Item Report"})]})})]})})}},8792:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/report-found",function(){return a(2717)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[33,54,636,593,792],()=>t(8792)),_N_E=e.O()}]);