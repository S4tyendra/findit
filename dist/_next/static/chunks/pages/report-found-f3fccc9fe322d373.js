(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[693],{2717:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var n=a(7876),s=a(4232),i=a(9099),l=a(9983),d=a(3397),r=a(8069),u=a(5627),o=a(7040),c=a(9650),m=a(9081),h=a(9688);let p=()=>{let e=(0,i.useRouter)(),[t,a]=(0,s.useState)(""),[p,x]=(0,s.useState)(null),[g,f]=(0,s.useState)(""),[j,y]=(0,s.useState)({country:"",state:"",city:""}),[v,N]=(0,s.useState)([]),[w,b]=(0,s.useState)(!1),[S,_]=(0,s.useState)(null),[F,C]=(0,s.useState)(""),E=async n=>{if(n.preventDefault(),b(!0),_(null),C(""),!p){_("Please select the date you found the item."),b(!1);return}let s=new FormData;s.append("description",t),s.append("date_found",p.toISOString()),g&&s.append("finder_contact",g),j.country&&s.append("country",j.country),j.state&&s.append("state",j.state),j.city&&s.append("city",j.city),v.forEach(e=>{s.append("images",e)});try{await (0,c.Qj)(s),(0,h.oR)("Found item report submitted successfully! Thank you."),e.push("/found"),a(""),f(""),x(null),y({country:"",state:"",city:""}),N([]);let t=document.getElementById("images");t&&(t.value=null)}catch(e){_(e.message||"Failed to submit report.")}finally{b(!1)}};return(0,n.jsx)("div",{className:"container mx-auto p-4 max-w-2xl",children:(0,n.jsxs)(m.Zp,{children:[(0,n.jsxs)(m.aR,{children:[(0,n.jsx)(m.ZB,{children:"Report an Item You Found"}),(0,n.jsx)(m.BT,{children:"Provide details about the item you found to help reunite it with its owner."})]}),(0,n.jsx)(m.Wu,{children:(0,n.jsxs)("form",{onSubmit:E,className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(u.J,{htmlFor:"description",children:"Item Description *"}),(0,n.jsx)(r.T,{id:"description",value:t,onChange:e=>a(e.target.value),placeholder:"Detailed description of the item you found...",required:!0,minLength:10,maxLength:1e3,className:"mt-1"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(u.J,{htmlFor:"dateFound",children:"Date Found *"}),(0,n.jsx)(d.p,{id:"dateFound",type:"date",onChange:e=>{try{let t=new Date(e.target.value);isNaN(t.getTime())?x(null):(x(t),_(null))}catch(e){x(null)}},required:!0,className:"mt-1"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(u.J,{htmlFor:"finderContact",children:"Your email *"}),(0,n.jsx)(d.p,{id:"finderContact",type:"email",required:!0,value:g,onChange:e=>f(e.target.value),placeholder:"Email (If you want the owner to contact you)",className:"mt-1"}),(0,n.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"If provided, this may be shown publicly or shared if a match is found."})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(u.J,{children:"Location Found (Optional but helpful)"}),(0,n.jsx)("div",{className:"mt-1 border p-3 rounded-md",children:(0,n.jsx)(o.A,{onLocationChange:y})})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)(u.J,{htmlFor:"images",children:["Images (Up to ",5,")"]}),(0,n.jsx)(d.p,{id:"images",type:"file",multiple:!0,accept:"image/jpeg, image/png, image/webp, image/gif",onChange:e=>{let t=Array.from(e.target.files);v.length+t.length>5?(_("Maximum ".concat(5," images allowed.")),e.target.value=null):(N(e=>[...e,...t]),_(null))},className:"mt-1"}),(0,n.jsxs)("div",{className:"mt-2 text-sm text-muted-foreground",children:[" Selected: ",v.length," "]}),v.length>0&&(0,n.jsx)("ul",{className:"mt-2 list-disc list-inside text-xs",children:v.map((e,t)=>(0,n.jsx)("li",{children:e.name},t))})]}),S&&(0,n.jsx)("p",{className:"text-red-500 text-sm",children:S}),F&&(0,n.jsx)("p",{className:"text-green-600 text-sm",children:F}),(0,n.jsx)(l.$,{type:"submit",disabled:w,className:"w-full",children:w?"Submitting...":"Submit Found Item Report"})]})})]})})}},8792:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/report-found",function(){return a(2717)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[33,54,636,593,792],()=>t(8792)),_N_E=e.O()}]);