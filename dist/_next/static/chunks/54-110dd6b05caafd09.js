"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[54],{2774:(e,t,a)=>{a.d(t,{E:()=>s});var n=a(7876),r=a(8928);function s(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"skeleton",className:(0,r.cn)("bg-accent animate-pulse rounded-md",t),...a})}},3397:(e,t,a)=>{a.d(t,{p:()=>s});var n=a(7876);a(4232);var r=a(8928);function s(e){let{className:t,type:a,...s}=e;return(0,n.jsx)("input",{type:a,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...s})}},5627:(e,t,a)=>{a.d(t,{J:()=>o});var n=a(7876);a(4232);var r=a(9773),s=a(8928);function o(e){let{className:t,...a}=e;return(0,n.jsx)(r.b,{"data-slot":"label",className:(0,s.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...a})}},7040:(e,t,a)=>{a.d(t,{A:()=>y});var n=a(7876),r=a(4232),s=a(9650),o=a(5627),i=a(826),l=a(822),d=a(3276),c=a(1575),u=a(8928);function m(e){let{...t}=e;return(0,n.jsx)(i.bL,{"data-slot":"select",...t})}function f(e){let{...t}=e;return(0,n.jsx)(i.WT,{"data-slot":"select-value",...t})}function h(e){let{className:t,size:a="default",children:r,...s}=e;return(0,n.jsxs)(i.l9,{"data-slot":"select-trigger","data-size":a,className:(0,u.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s,children:[r,(0,n.jsx)(i.In,{asChild:!0,children:(0,n.jsx)(l.A,{className:"size-4 opacity-50"})})]})}function p(e){let{className:t,children:a,position:r="popper",...s}=e;return(0,n.jsx)(i.ZL,{children:(0,n.jsxs)(i.UC,{"data-slot":"select-content",className:(0,u.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...s,children:[(0,n.jsx)(g,{}),(0,n.jsx)(i.LM,{className:(0,u.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:a}),(0,n.jsx)(v,{})]})})}function x(e){let{className:t,children:a,...r}=e;return(0,n.jsxs)(i.q7,{"data-slot":"select-item",className:(0,u.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[(0,n.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,n.jsx)(i.VF,{children:(0,n.jsx)(d.A,{className:"size-4"})})}),(0,n.jsx)(i.p4,{children:a})]})}function g(e){let{className:t,...a}=e;return(0,n.jsx)(i.PP,{"data-slot":"select-scroll-up-button",className:(0,u.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,n.jsx)(c.A,{className:"size-4"})})}function v(e){let{className:t,...a}=e;return(0,n.jsx)(i.wn,{"data-slot":"select-scroll-down-button",className:(0,u.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,n.jsx)(l.A,{className:"size-4"})})}var b=a(2774);let y=e=>{let{onLocationChange:t,initialLocation:a={}}=e,[i,l]=(0,r.useState)([]),[d,c]=(0,r.useState)([]),[u,g]=(0,r.useState)([]),[v,y]=(0,r.useState)(a.country||""),[j,w]=(0,r.useState)(a.state||""),[E,N]=(0,r.useState)(a.city||""),[C,k]=(0,r.useState)(!0),[S,T]=(0,r.useState)(!1),[I,z]=(0,r.useState)(!1),[_,D]=(0,r.useState)(null);return(0,r.useEffect)(()=>{k(!0),D(null),(0,s.X6)().then(e=>l(e||[])).catch(e=>{console.error("Failed to fetch countries:",e),D("Could not load countries.")}).finally(()=>k(!1))},[]),(0,r.useEffect)(()=>{v?(T(!0),c([]),g([]),w(""),N(""),D(null),(0,s.nP)(v).then(e=>c(e||[])).catch(e=>{console.error("Failed to fetch states for ".concat(v,":"),e),D("Could not load states for ".concat(v,"."))}).finally(()=>T(!1))):(c([]),g([]),w(""),N(""))},[v]),(0,r.useEffect)(()=>{v&&j?(z(!0),g([]),N(""),D(null),(0,s.i6)(v,j).then(e=>g(e||[])).catch(e=>{console.error("Failed to fetch cities for ".concat(j,", ").concat(v,":"),e),D("Could not load cities for ".concat(j,"."))}).finally(()=>z(!1))):(g([]),N(""))},[j,v]),(0,r.useEffect)(()=>{t({country:v,state:j,city:E})},[v,j,E,t]),(0,n.jsxs)("div",{className:"space-y-4",children:[_&&(0,n.jsx)("p",{className:"text-red-500 text-sm",children:_}),(0,n.jsxs)("div",{children:[(0,n.jsx)(o.J,{htmlFor:"country-select",children:"Country"}),C?(0,n.jsx)(b.E,{className:"h-10 w-full mt-1"}):(0,n.jsxs)(m,{value:v||"none",onValueChange:e=>{y("none"===e?"":e)},disabled:C||0===i.length,name:"country",children:[(0,n.jsx)(h,{id:"country-select",className:"mt-1",children:(0,n.jsx)(f,{placeholder:"Select Country..."})}),(0,n.jsxs)(p,{children:[(0,n.jsx)(x,{value:"none",disabled:!!v,children:"Select Country..."}),i.map(e=>(0,n.jsx)(x,{value:e.name,children:e.name},e.id||e.name))]})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(o.J,{htmlFor:"state-select",children:"State / Region"}),S?(0,n.jsx)(b.E,{className:"h-10 w-full mt-1"}):(0,n.jsxs)(m,{value:j||"none",onValueChange:e=>{w("none"===e?"":e)},disabled:!v||S||0===d.length,name:"state",children:[(0,n.jsx)(h,{id:"state-select",className:"mt-1",children:(0,n.jsx)(f,{placeholder:"Select State / Region..."})}),(0,n.jsxs)(p,{children:[(0,n.jsx)(x,{value:"none",disabled:!!j,children:"Select State / Region..."}),d.map(e=>(0,n.jsx)(x,{value:e.name,children:e.name},e.id||e.name))]})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(o.J,{htmlFor:"city-select",children:"City"}),I?(0,n.jsx)(b.E,{className:"h-10 w-full mt-1"}):(0,n.jsxs)(m,{value:E||"none",onValueChange:e=>{N("none"===e?"":e)},disabled:!j||I||0===u.length,name:"city",children:[(0,n.jsx)(h,{id:"city-select",className:"mt-1",children:(0,n.jsx)(f,{placeholder:"Select City..."})}),(0,n.jsxs)(p,{children:[(0,n.jsx)(x,{value:"none",disabled:!!E,children:"Select City..."}),u.map(e=>(0,n.jsx)(x,{value:e.name,children:e.name},e.id||e.name))]})]})]})]})}},8069:(e,t,a)=>{a.d(t,{T:()=>s});var n=a(7876);a(4232);var r=a(8928);function s(e){let{className:t,...a}=e;return(0,n.jsx)("textarea",{"data-slot":"textarea",className:(0,r.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...a})}},9081:(e,t,a)=>{a.d(t,{BT:()=>l,Wu:()=>d,ZB:()=>i,Zp:()=>s,aR:()=>o,wL:()=>c});var n=a(7876);a(4232);var r=a(8928);function s(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}function o(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...a})}function i(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",t),...a})}function l(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",t),...a})}function d(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",t),...a})}function c(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"card-footer",className:(0,r.cn)("flex items-center px-6 [.border-t]:pt-6",t),...a})}},9650:(e,t,a)=>{a.d(t,{If:()=>i,Ix:()=>m,LD:()=>h,Qj:()=>u,WA:()=>r,X6:()=>l,Yh:()=>s,fk:()=>f,i6:()=>c,nP:()=>d,v5:()=>o});let n=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a="".concat("/api").concat(e);try{let e=await fetch(a,{...t,headers:{...t.body instanceof FormData?{}:{"Content-Type":"application/json"},...t.headers}});if(!e.ok){var n,r;let t;try{t=await e.json()}catch(a){t={message:e.statusText||"HTTP error! Status: ".concat(e.status)}}console.error("API Error Response:",a,t);let s=(null==(r=t.detail)||null==(n=r[0])?void 0:n.msg)||t.detail,o=t.message;throw Error(s||o||"HTTP error! Status: ".concat(e.status))}if(204===e.status||"0"===e.headers.get("content-length"))return null;let s=e.headers.get("content-type");if(s&&s.includes("text/plain"))return await e.text();return await e.json()}catch(e){throw console.error("API Request Failed:",a,e),Error(e.message||"An unexpected network error occurred.")}},r=async e=>n("/items",{method:"POST",body:e}),s=async(e,t)=>{if(!e||!t)throw Error("Item ID and token are required for management view.");return n("/items/".concat(e,"/manage?token=").concat(encodeURIComponent(t)),{method:"GET"})},o=async e=>{if(!e)throw Error("Item ID is required for public view.");return n("/items/".concat(e),{method:"GET"})},i=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return n("/items?skip=".concat(e,"&limit=").concat(t),{method:"GET"})},l=async()=>n("/locations/countries",{method:"GET"}),d=async e=>{if(!e)throw Error("Country name is required to fetch states.");return n("/locations/states?country=".concat(encodeURIComponent(e)),{method:"GET"})},c=async(e,t)=>{if(!e||!t)throw Error("Country and state names are required to fetch cities.");return n("/locations/cities?country=".concat(encodeURIComponent(e),"&state=").concat(encodeURIComponent(t)),{method:"GET"})},u=async e=>{if(!(e instanceof FormData))throw Error("formData must be an instance of FormData.");if(!e.has("description")||!e.get("description"))throw Error("Description is required.");if(!e.has("date_found")||!e.get("date_found"))throw Error("Date found is required.");return n("/found-items",{method:"POST",body:e})},m=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return n("/found-items?skip=".concat(e,"&limit=").concat(t),{method:"GET"})},f=async(e,t,a)=>{if(!e||!t)throw Error("Item ID and token required for update.");return n("/items/".concat(e,"/manage?token=").concat(encodeURIComponent(t)),{method:"PUT",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}})},h=async(e,t)=>{if(!e||!t)throw Error("Item ID and token required for deletion.");return n("/items/".concat(e,"/manage?token=").concat(encodeURIComponent(t)),{method:"DELETE"})}}}]);